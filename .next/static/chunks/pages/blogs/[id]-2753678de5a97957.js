(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{5993:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/[id]",function(){return l(1080)}])},1080:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSG:function(){return p},default:function(){return BlogPage}});var r=l(5893),i=l(9267),n=l(9008),a=l.n(n),s=l(1664),c=l.n(s),d=l(8420),o=l(4850);function date_Date(e){let{dateString:t}=e,l=(0,d.Z)(t);return(0,r.jsxs)("time",{dateTime:t,children:[(0,o.Z)(l,"LLLL d, yyyy")," "]})}var _=l(6955),h=l.n(_),u=l(7294);function Text(e){let{title:t}=e;return t?t.map(e=>{let{annotations:{bold:t,code:l,color:i,italic:n,strikethrough:a,underline:s},text:c}=e;return(0,r.jsx)("span",{className:[t?h().bold:"",l?h().code:"",n?h().italic:"",a?h().strikethrough:"",s?h().underline:""].join(" "),style:"default"!==i?{color:i}:{},children:c.link?(0,r.jsx)("a",{href:c.link.url,children:c.content}):c.content},c.content)}):null}var x=l(3454),p=!0;function BlogPage(e){let{blog_data:t}=e,[l,i]=(0,u.useState)(t);return console.log("updated_blog_data",l),(0,u.useEffect)(()=>{(async function(){let e=await getBlogData(t.blog_id);i(e)})()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:["Blog - ",l.page_response.properties.이름.title[0].plain_text]}),(0,r.jsx)("meta",{name:"description",content:"junbong jang's blog"})]}),(0,r.jsxs)("div",{className:h().PostDetailContainer,children:[(0,r.jsxs)("div",{className:h().PostDetailCard,children:[(0,r.jsx)("header",{children:(0,r.jsxs)(c(),{href:"/blog",type:"button",children:[(0,r.jsx)("i",{className:"fas fa-solid fa-chevron-left"}),"Back"]})}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:l.page_response.properties.이름.title[0].plain_text})}),(0,r.jsx)("footer",{children:(0,r.jsxs)("span",{children:[(0,r.jsx)("i",{className:"fas fa-solid fa-calendar"}),(0,r.jsxs)("small",{children:["Created Date: ",(0,r.jsx)(date_Date,{dateString:l.page_response.created_time})]})]})})]}),(0,r.jsx)("div",{className:h().PostDetailContent,children:(0,r.jsx)("div",{children:t.list_of_blocks.map(e=>(0,r.jsx)(u.Fragment,{children:function renderBlock(e){var t,l,i,n;let{type:a,id:s}=e,d=e[a];switch(a){case"paragraph":return d.rich_text.length>0?(0,r.jsx)("p",{children:(0,r.jsx)(Text,{title:d.rich_text})}):(0,r.jsx)("br",{});case"heading_1":return(0,r.jsx)("h1",{children:(0,r.jsx)(Text,{title:d.rich_text})});case"heading_2":return(0,r.jsx)("h2",{children:(0,r.jsx)(Text,{title:d.rich_text})});case"heading_3":return(0,r.jsx)("h3",{children:(0,r.jsx)(Text,{title:d.rich_text})});case"bulleted_list":return(0,r.jsx)("ul",{children:d.children.map(e=>renderBlock(e))});case"numbered_list":return(0,r.jsx)("ol",{children:d.children.map(e=>renderBlock(e))});case"bulleted_list_item":case"numbered_list_item":return(0,r.jsxs)("li",{children:[(0,r.jsx)(Text,{title:d.rich_text}),!!d.children&&function(e){let{type:t}=e,l=e[t];if(!l)return null;let i="numbered_list_item"===l.children[0].type;return i?(0,r.jsx)("ol",{children:l.children.map(e=>renderBlock(e))}):(0,r.jsx)("ul",{children:l.children.map(e=>renderBlock(e))})}(e)]},e.id);case"to_do":return(0,r.jsx)("div",{children:(0,r.jsxs)("label",{htmlFor:s,children:[(0,r.jsx)("input",{type:"checkbox",id:s,defaultChecked:d.checked})," ",(0,r.jsx)(Text,{title:d.rich_text})]})});case"toggle":return(0,r.jsxs)("details",{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(Text,{title:d.rich_text})}),null===(t=e.children)||void 0===t?void 0:t.map(e=>(0,r.jsx)(u.Fragment,{children:renderBlock(e)},e.id))]});case"child_page":return(0,r.jsxs)("div",{className:h().childPage,children:[(0,r.jsx)("strong",{children:null==d?void 0:d.title}),e.children.map(e=>renderBlock(e))]});case"image":{let e="external"===d.type?d.external.url:d.file.url,t=d.caption?null===(l=d.caption[0])||void 0===l?void 0:l.plain_text:"";return(0,r.jsxs)("figure",{children:[(0,r.jsx)("img",{src:e,alt:t}),t&&(0,r.jsx)("figcaption",{children:t})]})}case"divider":return(0,r.jsx)("hr",{},s);case"quote":return(0,r.jsx)("blockquote",{children:d.rich_text[0].plain_text},s);case"code":return(0,r.jsx)("pre",{className:h().pre,children:(0,r.jsx)("code",{className:h().code_block,children:d.rich_text[0].plain_text},s)});case"file":{let e="external"===d.type?d.external.url:d.file.url,t=e.split("/"),l=t[t.length-1],n=d.caption?null===(i=d.caption[0])||void 0===i?void 0:i.plain_text:"";return(0,r.jsxs)("figure",{children:[(0,r.jsxs)("div",{className:h().file,children:["\uD83D\uDCCE"," ",(0,r.jsx)(c(),{href:e,passHref:!0,children:l.split("?")[0]})]}),n&&(0,r.jsx)("figcaption",{children:n})]})}case"bookmark":{let e=d.url;return(0,r.jsx)("a",{href:e,target:"_blank",rel:"noreferrer noopener",className:h().bookmark,children:e})}case"table":return(0,r.jsx)("table",{className:h().table,children:(0,r.jsx)("tbody",{children:null===(n=e.children)||void 0===n?void 0:n.map((e,t)=>{var l,i;let n=d.has_column_header&&0===t?"th":"td";return(0,r.jsx)("tr",{children:null===(i=e.table_row)||void 0===i?void 0:null===(l=i.cells)||void 0===l?void 0:l.map((e,t)=>(0,r.jsx)(n,{children:(0,r.jsx)(Text,{title:e})},"".concat(e.plain_text,"-").concat(t)))},e.id)})})});case"column_list":return(0,r.jsx)("div",{className:h().row,children:e.children.map(e=>renderBlock(e))});case"column":return(0,r.jsx)("div",{children:e.children.map(e=>renderBlock(e))});default:return"❌ Unsupported block (".concat("unsupported"===a?"unsupported by Notion API":a,")")}}(e)},e.id))})})]})]})}async function getBlogData(e){let t;let l=new i.KU({auth:x.env.NOTION_API_KEY}),r=await l.blocks.children.list({block_id:e});if(r.has_more){let i=await l.blocks.children.list({block_id:e,start_cursor:r.next_cursor});t=r.results.concat(i.results)}else t=r.results;let n=await l.pages.retrieve({page_id:e}),a={list_of_blocks:t,page_response:n,blog_id:e};return a}},6955:function(e){e.exports={PostDetailContainer:"blog_detail_PostDetailContainer__U6e8A",PostDetailCard:"blog_detail_PostDetailCard__YI7ca",PostDetailContent:"blog_detail_PostDetailContent__AlWIl",container:"blog_detail_container__KwV7Q",name:"blog_detail_name__xjGAM",back:"blog_detail_back__airF0",bold:"blog_detail_bold__EH_m_",code:"blog_detail_code__f1fIy",italic:"blog_detail_italic__7Cq5Z",pre:"blog_detail_pre__Ka_06",code_block:"blog_detail_code_block__83w_D",file:"blog_detail_file__Hzr7d",strikethrough:"blog_detail_strikethrough__bAkTZ",underline:"blog_detail_underline__Ido62",bookmark:"blog_detail_bookmark__8UyC5",table:"blog_detail_table__8KI0A",row:"blog_detail_row__ivGDz",childPage:"blog_detail_childPage__ikAv6"}}},function(e){e.O(0,[486,774,888,179],function(){return e(e.s=5993)}),_N_E=e.O()}]);